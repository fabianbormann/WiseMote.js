{% extends 'layout.html' %}

{% block content %}
<div class="sixteen wide column">
    <h1>Experiments</h1>
    <div class="ui divider"></div>

    <table class="ui table segment">
        <thead>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Reserved Nodes</th>
                <th>Time</th>
            </tr>
        </thead>
        <tbody>
        {% if experiments %}
            {% for experiment in experiments %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ experiment.name }}</td>
                    <td>{{ experiment.nodes }}</td>
                    <td>{{ experiment.time }}</td>
                </tr>
            {% endfor %}
        {% else %}
        <tr class="warning">
            <td colspan="4">You don't have any experiments yet.</td>
        </tr>
        {% endif %}
        </tbody>
        <tfoot>
        </tfoot>
    </table>

    <a class="ui small blue submit button" id="newExperimentButton" onclick="showExperimentForm();">Start a new experiment</a>
    <div id="newExperimentForm" style="display: none">
        <form id="reservationForm" class="ui form segment" action="/{{ username }}/experiment/new" method="POST">
            <div class="field">
                <label>Name</label>
                <input type="text" name="experimentName" placeholder="Your experimentname">
            </div>
            <div class="field">
                <label>Node URN's (use "," as delimiter)</label>
                <textarea name="urns"></textarea>
            </div>
            <div class="field">
                <label>Duration</label>
                <input type="text" name="duration" placeholder="Enter duration in minutes">
            </div>
            <div class="field">
                <label>Offset</label>
                <input type="text" name="offset" placeholder="Enter the offset in minutes">
            </div>   
            <div class="ui divider"></div>
            <button type="submit" class="ui small blue submit button">Start reservation</button>
        </form>
    </div>
</div>

{% endblock %}